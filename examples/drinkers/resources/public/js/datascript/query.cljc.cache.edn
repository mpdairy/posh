;; Analyzed by ClojureScript 1.7.170
{:use-macros {raise datascript.db}, :excludes #{}, :name datascript.query, :imports nil, :requires {da datascript.arrays, set clojure.set, dpp datascript.pull-parser, dpa datascript.pull-api, walk clojure.walk, datascript.parser datascript.parser, db datascript.db, clojure.set clojure.set, datascript.lru datascript.lru, datascript.db datascript.db, datascript.pull-parser datascript.pull-parser, datascript.pull-api datascript.pull-api, de datascript.impl.entity, dp datascript.parser, cljs.reader cljs.reader, clojure.walk clojure.walk, edn cljs.reader, datascript.arrays datascript.arrays, datascript.impl.entity datascript.impl.entity}, :uses {Constant datascript.parser, BindIgnore datascript.parser, FindTuple datascript.parser, SrcVar datascript.parser, FindColl datascript.parser, BindTuple datascript.parser, BindColl datascript.parser, BindScalar datascript.parser, PlainSymbol datascript.parser, FindRel datascript.parser, FindScalar datascript.parser, RulesVar datascript.parser, Variable datascript.parser}, :defs {solve-rule {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 496, :column 7, :end-line 496, :end-column 17, :arglists (quote ([context clause]))}, :name datascript.query/solve-rule, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 496, :end-line 496, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, matches-pattern? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 350, :column 7, :end-line 350, :end-column 23, :arglists (quote ([pattern tuple]))}, :name datascript.query/matches-pattern?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 23, :method-params ([pattern tuple]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 350, :end-line 350, :max-fixed-arity 2, :fn-var true, :arglists (quote ([pattern tuple]))}, aggregate {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 665, :column 7, :end-line 665, :end-column 16, :arglists (quote ([find-elements context resultset]))}, :name datascript.query/aggregate, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([find-elements context resultset]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 665, :end-line 665, :max-fixed-arity 3, :fn-var true, :arglists (quote ([find-elements context resultset]))}, query-cache {:name datascript.query/query-cache, :file "resources/public/js/datascript/query.cljc", :line 701, :column 1, :end-line 701, :end-column 27, :private true, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 701, :column 16, :end-line 701, :end-column 27, :private true}}, rel-prod-by-attrs {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 399, :column 8, :end-line 399, :end-column 25, :private true, :arglists (quote ([context attrs]))}, :private true, :name datascript.query/rel-prod-by-attrs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 25, :method-params ([context attrs]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 399, :end-line 399, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context attrs]))}, empty-rel {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 223, :column 7, :end-line 223, :end-column 16, :arglists (quote ([binding]))}, :name datascript.query/empty-rel, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([binding]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 223, :end-line 223, :max-fixed-arity 1, :fn-var true, :arglists (quote ([binding]))}, built-ins {:name datascript.query/built-ins, :file "resources/public/js/datascript/query.cljc", :line 140, :column 1, :end-line 140, :end-column 15, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 140, :column 6, :end-line 140, :end-column 15}}, pull {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 686, :column 8, :end-line 686, :end-column 12, :private true, :arglists (quote ([find-elements context resultset]))}, :private true, :name datascript.query/pull, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 12, :method-params ([find-elements context resultset]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 686, :end-line 686, :max-fixed-arity 3, :fn-var true, :arglists (quote ([find-elements context resultset]))}, ->Context {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 26, :column 12, :end-line 26, :end-column 19, :internal-ctor true, :factory :positional, :arglists (quote ([rels sources rules]))}, :name datascript.query/->Context, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([rels sources rules]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :internal-ctor true, :factory :positional, :line 26, :end-line 26, :max-fixed-arity 3, :fn-var true, :arglists (quote ([rels sources rules]))}, tuple-key-fn {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 296, :column 7, :end-line 296, :end-column 19, :arglists (quote ([getters]))}, :name datascript.query/tuple-key-fn, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([getters]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 296, :end-line 296, :max-fixed-arity 1, :fn-var true, :arglists (quote ([getters]))}, resolve-pattern-lookup-refs {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 552, :column 7, :end-line 552, :end-column 34, :arglists (quote ([source pattern]))}, :name datascript.query/resolve-pattern-lookup-refs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 34, :method-params ([source pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 552, :end-line 552, :max-fixed-arity 2, :fn-var true, :arglists (quote ([source pattern]))}, bind-by-fn {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 426, :column 7, :end-line 426, :end-column 17, :arglists (quote ([context clause]))}, :name datascript.query/bind-by-fn, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 426, :end-line 426, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, resolve-in {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 265, :column 7, :end-line 265, :end-column 17, :arglists (quote ([context [binding value]]))}, :name datascript.query/resolve-in, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([context p__21854]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 265, :end-line 265, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context [binding value]]))}, rule? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 446, :column 7, :end-line 446, :end-column 12, :arglists (quote ([context clause]))}, :name datascript.query/rule?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 12, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 446, :end-line 446, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, source? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 65, :column 7, :end-line 65, :end-column 14, :arglists (quote ([sym]))}, :name datascript.query/source?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 14, :method-params ([sym]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 65, :end-line 65, :max-fixed-arity 1, :fn-var true, :arglists (quote ([sym]))}, -q {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 601, :column 7, :end-line 601, :end-column 9, :arglists (quote ([context clauses]))}, :name datascript.query/-q, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 9, :method-params ([context clauses]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 601, :end-line 601, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clauses]))}, attr? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 73, :column 7, :end-line 73, :end-column 12, :arglists (quote ([form]))}, :name datascript.query/attr?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 12, :method-params ([form]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 73, :end-line 73, :max-fixed-arity 1, :fn-var true, :arglists (quote ([form]))}, -get-else {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 121, :column 8, :end-line 121, :end-column 17, :private true, :arglists (quote ([db e a else-val]))}, :private true, :name datascript.query/-get-else, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([db e a else-val]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 121, :end-line 121, :max-fixed-arity 4, :fn-var true, :arglists (quote ([db e a else-val]))}, intersect-keys {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 38, :column 7, :end-line 38, :end-column 21, :arglists (quote ([attrs1 attrs2]))}, :name datascript.query/intersect-keys, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([attrs1 attrs2]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 38, :end-line 38, :max-fixed-arity 2, :fn-var true, :arglists (quote ([attrs1 attrs2]))}, rule-seqid {:name datascript.query/rule-seqid, :file "resources/public/js/datascript/query.cljc", :line 456, :column 1, :end-line 456, :end-column 16, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 456, :column 6, :end-line 456, :end-column 16}}, -collect {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 604, :column 7, :end-line 604, :end-column 15, :arglists (quote ([context symbols] [acc rels symbols])), :top-fn {:variadic false, :max-fixed-arity 3, :method-params ([context symbols] [acc rels symbols]), :arglists ([context symbols] [acc rels symbols]), :arglists-meta (nil nil)}}, :name datascript.query/-collect, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 15, :top-fn {:variadic false, :max-fixed-arity 3, :method-params ([context symbols] [acc rels symbols]), :arglists ([context symbols] [acc rels symbols]), :arglists-meta (nil nil)}, :method-params ([context symbols] [acc rels symbols]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 604, :end-line 604, :max-fixed-arity 3, :fn-var true, :arglists ([context symbols] [acc rels symbols])}, q {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 710, :column 7, :end-line 710, :end-column 8, :arglists (quote ([q & inputs])), :top-fn {:variadic true, :max-fixed-arity 1, :method-params [(q inputs)], :arglists ([q & inputs]), :arglists-meta (nil)}}, :name datascript.query/q, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 8, :top-fn {:variadic true, :max-fixed-arity 1, :method-params [(q inputs)], :arglists ([q & inputs]), :arglists-meta (nil)}, :method-params [(q inputs)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 710, :end-line 710, :max-fixed-arity 1, :fn-var true, :arglists ([q & inputs])}, context-resolve-val {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 391, :column 8, :end-line 391, :end-column 27, :private true, :arglists (quote ([context sym]))}, :private true, :name datascript.query/context-resolve-val, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 27, :method-params ([context sym]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 391, :end-line 391, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context sym]))}, walk-collect {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 485, :column 7, :end-line 485, :end-column 19, :arglists (quote ([form pred]))}, :name datascript.query/walk-collect, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([form pred]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 485, :end-line 485, :max-fixed-arity 2, :fn-var true, :arglists (quote ([form pred]))}, lookup-pattern-coll {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 361, :column 7, :end-line 361, :end-column 26, :arglists (quote ([coll pattern]))}, :name datascript.query/lookup-pattern-coll, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 26, :method-params ([coll pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 361, :end-line 361, :max-fixed-arity 2, :fn-var true, :arglists (quote ([coll pattern]))}, IBinding {:meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 228, :column 14, :end-line 228, :end-column 22, :doc nil, :protocol-symbol true, :jsdoc ("@interface"), :protocol-info {:methods {in->rel [[binding value]]}}}, :protocol-symbol true, :name datascript.query/IBinding, :file "resources/public/js/datascript/query.cljc", :end-column 22, :column 1, :line 228, :protocol-info {:methods {in->rel [[binding value]]}}, :info nil, :end-line 228, :impls #{datascript.parser/BindColl datascript.parser/BindIgnore datascript.parser/BindScalar datascript.parser/BindTuple}, :doc nil, :jsdoc ("@interface")}, IContextResolve {:meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 632, :column 14, :end-line 632, :end-column 29, :doc nil, :protocol-symbol true, :jsdoc ("@interface"), :protocol-info {:methods {-context-resolve [[var context]]}}}, :protocol-symbol true, :name datascript.query/IContextResolve, :file "resources/public/js/datascript/query.cljc", :end-column 29, :column 1, :line 632, :protocol-info {:methods {-context-resolve [[var context]]}}, :info nil, :end-line 632, :impls #{datascript.parser/PlainSymbol datascript.parser/SrcVar datascript.parser/Constant datascript.parser/Variable}, :doc nil, :jsdoc ("@interface")}, rule-gen-guards {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 478, :column 7, :end-line 478, :end-column 22, :arglists (quote ([rule-clause used-args]))}, :name datascript.query/rule-gen-guards, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 22, :method-params ([rule-clause used-args]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 478, :end-line 478, :max-fixed-arity 2, :fn-var true, :arglists (quote ([rule-clause used-args]))}, resolve-ins {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 276, :column 7, :end-line 276, :end-column 18, :arglists (quote ([context bindings values]))}, :name datascript.query/resolve-ins, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([context bindings values]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 276, :end-line 276, :max-fixed-arity 3, :fn-var true, :arglists (quote ([context bindings values]))}, remove-pairs {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 472, :column 7, :end-line 472, :end-column 19, :arglists (quote ([xs ys]))}, :name datascript.query/remove-pairs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([xs ys]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 472, :end-line 472, :max-fixed-arity 2, :fn-var true, :arglists (quote ([xs ys]))}, lru-cache-size {:name datascript.query/lru-cache-size, :file "resources/public/js/datascript/query.cljc", :line 21, :column 1, :end-line 21, :end-column 28, :const true, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 21, :column 14, :end-line 21, :end-column 28, :const true}}, concatv {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 42, :column 7, :end-line 42, :end-column 14, :arglists (quote ([& xs])), :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(xs)], :arglists ([& xs]), :arglists-meta (nil)}}, :name datascript.query/concatv, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 14, :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(xs)], :arglists ([& xs]), :arglists-meta (nil)}, :method-params [(xs)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 42, :end-line 42, :max-fixed-arity 0, :fn-var true, :arglists ([& xs])}, -missing? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 136, :column 8, :end-line 136, :end-column 17, :private true, :arglists (quote ([db e a]))}, :private true, :name datascript.query/-missing?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([db e a]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 136, :end-line 136, :max-fixed-arity 3, :fn-var true, :arglists (quote ([db e a]))}, rel-contains-attrs? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 396, :column 8, :end-line 396, :end-column 27, :private true, :arglists (quote ([rel attrs]))}, :private true, :name datascript.query/rel-contains-attrs?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 27, :method-params ([rel attrs]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 396, :end-line 396, :max-fixed-arity 2, :fn-var true, :arglists (quote ([rel attrs]))}, prod-rel {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 97, :column 7, :end-line 97, :end-column 15, :arglists (quote ([] [rel1 rel2])), :top-fn {:variadic false, :max-fixed-arity 2, :method-params ([] [rel1 rel2]), :arglists ([] [rel1 rel2]), :arglists-meta (nil nil)}}, :name datascript.query/prod-rel, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 15, :top-fn {:variadic false, :max-fixed-arity 2, :method-params ([] [rel1 rel2]), :arglists ([] [rel1 rel2]), :arglists-meta (nil nil)}, :method-params ([] [rel1 rel2]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 97, :end-line 97, :max-fixed-arity 2, :fn-var true, :arglists ([] [rel1 rel2])}, lookup-pattern {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 373, :column 7, :end-line 373, :end-column 21, :arglists (quote ([source pattern]))}, :name datascript.query/lookup-pattern, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([source pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 373, :end-line 373, :max-fixed-arity 2, :fn-var true, :arglists (quote ([source pattern]))}, -aggregate {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 649, :column 7, :end-line 649, :end-column 17, :arglists (quote ([find-elements context tuples]))}, :name datascript.query/-aggregate, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([find-elements context tuples]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 649, :end-line 649, :max-fixed-arity 3, :fn-var true, :arglists (quote ([find-elements context tuples]))}, -resolve-clause {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 573, :column 7, :end-line 573, :end-column 22, :arglists (quote ([context clause]))}, :name datascript.query/-resolve-clause, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 22, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 573, :end-line 573, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, *lookup-attrs* {:name datascript.query/*lookup-attrs*, :file "resources/public/js/datascript/query.cljc", :line 281, :column 1, :end-line 281, :end-column 30, :dynamic true, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 281, :column 16, :end-line 281, :end-column 30, :dynamic true}}, ->Relation {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 33, :column 12, :end-line 33, :end-column 20, :internal-ctor true, :factory :positional, :arglists (quote ([attrs tuples]))}, :name datascript.query/->Relation, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 20, :method-params ([attrs tuples]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :internal-ctor true, :factory :positional, :line 33, :end-line 33, :max-fixed-arity 2, :fn-var true, :arglists (quote ([attrs tuples]))}, join-tuples {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 81, :column 7, :end-line 81, :end-column 18, :arglists (quote ([t1 idxs1 t2 idxs2]))}, :name datascript.query/join-tuples, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([t1 idxs1 t2 idxs2]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 81, :end-line 81, :max-fixed-arity 4, :fn-var true, :arglists (quote ([t1 idxs1 t2 idxs2]))}, IPostProcess {:meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 673, :column 14, :end-line 673, :end-column 26, :doc nil, :protocol-symbol true, :jsdoc ("@interface"), :protocol-info {:methods {-post-process [[find tuples]]}}}, :protocol-symbol true, :name datascript.query/IPostProcess, :file "resources/public/js/datascript/query.cljc", :end-column 26, :column 1, :line 673, :protocol-info {:methods {-post-process [[find tuples]]}}, :info nil, :end-line 673, :impls #{datascript.parser/FindScalar datascript.parser/FindRel datascript.parser/FindTuple datascript.parser/FindColl}, :doc nil, :jsdoc ("@interface")}, looks-like? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 45, :column 8, :end-line 45, :end-column 19, :private true, :arglists (quote ([pattern form]))}, :private true, :name datascript.query/looks-like?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([pattern form]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 45, :end-line 45, :max-fixed-arity 2, :fn-var true, :arglists (quote ([pattern form]))}, dynamic-lookup-attrs {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 563, :column 7, :end-line 563, :end-column 27, :arglists (quote ([source pattern]))}, :name datascript.query/dynamic-lookup-attrs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 27, :method-params ([source pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 563, :end-line 563, :max-fixed-arity 2, :fn-var true, :arglists (quote ([source pattern]))}, lookup-ref? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 76, :column 7, :end-line 76, :end-column 18, :arglists (quote ([form]))}, :name datascript.query/lookup-ref?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([form]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 76, :end-line 76, :max-fixed-arity 1, :fn-var true, :arglists (quote ([form]))}, in->rel {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 229, :column 4, :end-line 229, :end-column 11, :protocol datascript.query/IBinding, :doc nil, :arglists (quote ([binding value]))}, :protocol datascript.query/IBinding, :name datascript.query/in->rel, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 11, :method-params ([binding value]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 228, :end-line 229, :max-fixed-arity 2, :fn-var true, :arglists (quote ([binding value])), :doc nil}, -get-some {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 127, :column 8, :end-line 127, :end-column 17, :private true, :arglists (quote ([db e & as])), :top-fn {:variadic true, :max-fixed-arity 2, :method-params [(db e as)], :arglists ([db e & as]), :arglists-meta (nil)}}, :private true, :name datascript.query/-get-some, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 17, :top-fn {:variadic true, :max-fixed-arity 2, :method-params [(db e as)], :arglists ([db e & as]), :arglists-meta (nil)}, :method-params [(db e as)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 127, :end-line 127, :max-fixed-arity 2, :fn-var true, :arglists ([db e & as])}, expand-rule {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 458, :column 7, :end-line 458, :end-column 18, :arglists (quote ([clause context used-args]))}, :name datascript.query/expand-rule, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([clause context used-args]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 458, :end-line 458, :max-fixed-arity 3, :fn-var true, :arglists (quote ([clause context used-args]))}, resolve-clause {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 591, :column 7, :end-line 591, :end-column 21, :arglists (quote ([context clause]))}, :name datascript.query/resolve-clause, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 591, :end-line 591, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, hash-join {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 313, :column 7, :end-line 313, :end-column 16, :arglists (quote ([rel1 rel2]))}, :name datascript.query/hash-join, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([rel1 rel2]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 313, :end-line 313, :max-fixed-arity 2, :fn-var true, :arglists (quote ([rel1 rel2]))}, -call-fn {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 404, :column 7, :end-line 404, :end-column 15, :arglists (quote ([context rel f args]))}, :name datascript.query/-call-fn, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 15, :method-params ([context rel f args]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 404, :end-line 404, :max-fixed-arity 4, :fn-var true, :arglists (quote ([context rel f args]))}, parse-rules {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 216, :column 7, :end-line 216, :end-column 18, :arglists (quote ([rules]))}, :name datascript.query/parse-rules, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 18, :method-params ([rules]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 216, :end-line 216, :max-fixed-arity 1, :fn-var true, :arglists (quote ([rules]))}, memoized-parse-query {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 703, :column 7, :end-line 703, :end-column 27, :arglists (quote ([q]))}, :name datascript.query/memoized-parse-query, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 27, :method-params ([q]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 703, :end-line 703, :max-fixed-arity 1, :fn-var true, :arglists (quote ([q]))}, built-in-aggregates {:name datascript.query/built-in-aggregates, :file "resources/public/js/datascript/query.cljc", :line 147, :column 1, :end-line 147, :end-column 25, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 147, :column 6, :end-line 147, :end-column 25}}, Context {:num-fields 3, :protocols #{cljs.core/IRecord cljs.core/IEquiv cljs.core/IHash cljs.core/ICollection cljs.core/ICounted cljs.core/ISeqable cljs.core/IMeta cljs.core/ICloneable cljs.core/IPrintWithWriter cljs.core/IIterable cljs.core/IWithMeta cljs.core/IAssociative cljs.core/IMap cljs.core/ILookup}, :name datascript.query/Context, :file "resources/public/js/datascript/query.cljc", :end-column 19, :type true, :column 12, :internal-ctor true, :line 26, :record true, :end-line 26, :skip-protocol-flag #{cljs.core/IRecord cljs.core/IEquiv cljs.core/IHash cljs.core/ICollection cljs.core/ICounted cljs.core/ISeqable cljs.core/IMeta cljs.core/ICloneable cljs.core/IPrintWithWriter cljs.core/IWithMeta cljs.core/IAssociative cljs.core/IMap cljs.core/ILookup}}, sum-rel {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 94, :column 7, :end-line 94, :end-column 14, :arglists (quote ([a b]))}, :name datascript.query/sum-rel, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 14, :method-params ([a b]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 94, :end-line 94, :max-fixed-arity 2, :fn-var true, :arglists (quote ([a b]))}, free-var? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 69, :column 7, :end-line 69, :end-column 16, :arglists (quote ([sym]))}, :name datascript.query/free-var?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([sym]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 69, :end-line 69, :max-fixed-arity 1, :fn-var true, :arglists (quote ([sym]))}, map->Context {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 26, :column 12, :end-line 26, :end-column 19, :internal-ctor true, :factory :map, :arglists (quote ([G__21770]))}, :name datascript.query/map->Context, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([G__21770]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :internal-ctor true, :factory :map, :line 26, :end-line 26, :max-fixed-arity 1, :fn-var true, :arglists (quote ([G__21770]))}, -context-resolve {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 633, :column 4, :end-line 633, :end-column 20, :protocol datascript.query/IContextResolve, :doc nil, :arglists (quote ([var context]))}, :protocol datascript.query/IContextResolve, :name datascript.query/-context-resolve, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 20, :method-params ([var context]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 632, :end-line 633, :max-fixed-arity 2, :fn-var true, :arglists (quote ([var context])), :doc nil}, *lookup-source* {:name datascript.query/*lookup-source*, :file "resources/public/js/datascript/query.cljc", :line 282, :column 1, :end-line 282, :end-column 31, :dynamic true, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 282, :column 16, :end-line 282, :end-column 31, :dynamic true}}, Relation {:num-fields 2, :protocols #{cljs.core/IRecord cljs.core/IEquiv cljs.core/IHash cljs.core/ICollection cljs.core/ICounted cljs.core/ISeqable cljs.core/IMeta cljs.core/ICloneable cljs.core/IPrintWithWriter cljs.core/IIterable cljs.core/IWithMeta cljs.core/IAssociative cljs.core/IMap cljs.core/ILookup}, :name datascript.query/Relation, :file "resources/public/js/datascript/query.cljc", :end-column 20, :type true, :column 12, :internal-ctor true, :line 33, :record true, :end-line 33, :skip-protocol-flag #{cljs.core/IRecord cljs.core/IEquiv cljs.core/IHash cljs.core/ICollection cljs.core/ICounted cljs.core/ISeqable cljs.core/IMeta cljs.core/ICloneable cljs.core/IPrintWithWriter cljs.core/IWithMeta cljs.core/IAssociative cljs.core/IMap cljs.core/ILookup}}, filter-by-pred {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 415, :column 7, :end-line 415, :end-column 21, :arglists (quote ([context clause]))}, :name datascript.query/filter-by-pred, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 21, :method-params ([context clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 415, :end-line 415, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context clause]))}, split-guards {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 490, :column 7, :end-line 490, :end-column 19, :arglists (quote ([clauses guards]))}, :name datascript.query/split-guards, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 19, :method-params ([clauses guards]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 490, :end-line 490, :max-fixed-arity 2, :fn-var true, :arglists (quote ([clauses guards]))}, normalize-pattern-clause {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 368, :column 7, :end-line 368, :end-column 31, :arglists (quote ([clause]))}, :name datascript.query/normalize-pattern-clause, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 31, :method-params ([clause]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 368, :end-line 368, :max-fixed-arity 1, :fn-var true, :arglists (quote ([clause]))}, collect {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 627, :column 7, :end-line 627, :end-column 14, :arglists (quote ([context symbols]))}, :name datascript.query/collect, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 14, :method-params ([context symbols]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 627, :end-line 627, :max-fixed-arity 2, :fn-var true, :arglists (quote ([context symbols]))}, map->Relation {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 33, :column 12, :end-line 33, :end-column 20, :internal-ctor true, :factory :map, :arglists (quote ([G__21778]))}, :name datascript.query/map->Relation, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 20, :method-params ([G__21778]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :internal-ctor true, :factory :map, :line 33, :end-line 33, :max-fixed-arity 1, :fn-var true, :arglists (quote ([G__21778]))}, bindable-to-seq? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 220, :column 7, :end-line 220, :end-column 23, :arglists (quote ([x]))}, :name datascript.query/bindable-to-seq?, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 23, :method-params ([x]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 220, :end-line 220, :max-fixed-arity 1, :fn-var true, :arglists (quote ([x]))}, -differ? {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 117, :column 8, :end-line 117, :end-column 16, :private true, :arglists (quote ([& xs])), :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(xs)], :arglists ([& xs]), :arglists-meta (nil)}}, :private true, :name datascript.query/-differ?, :variadic true, :file "resources/public/js/datascript/query.cljc", :end-column 16, :top-fn {:variadic true, :max-fixed-arity 0, :method-params [(xs)], :arglists ([& xs]), :arglists-meta (nil)}, :method-params [(xs)], :protocol-impl nil, :arglists-meta (nil), :column 1, :line 117, :end-line 117, :max-fixed-arity 0, :fn-var true, :arglists ([& xs])}, hash-attrs {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 304, :column 7, :end-line 304, :end-column 17, :arglists (quote ([key-fn tuples]))}, :name datascript.query/hash-attrs, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([key-fn tuples]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 304, :end-line 304, :max-fixed-arity 2, :fn-var true, :arglists (quote ([key-fn tuples]))}, lookup-pattern-db {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 341, :column 7, :end-line 341, :end-column 24, :arglists (quote ([db pattern]))}, :name datascript.query/lookup-pattern-db, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 24, :method-params ([db pattern]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 341, :end-line 341, :max-fixed-arity 2, :fn-var true, :arglists (quote ([db pattern]))}, -post-process {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 674, :column 4, :end-line 674, :end-column 17, :protocol datascript.query/IPostProcess, :doc nil, :arglists (quote ([find tuples]))}, :protocol datascript.query/IPostProcess, :name datascript.query/-post-process, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 17, :method-params ([find tuples]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 673, :end-line 674, :max-fixed-arity 2, :fn-var true, :arglists (quote ([find tuples])), :doc nil}, collapse-rels {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 380, :column 7, :end-line 380, :end-column 20, :arglists (quote ([rels new-rel]))}, :name datascript.query/collapse-rels, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 20, :method-params ([rels new-rel]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 380, :end-line 380, :max-fixed-arity 2, :fn-var true, :arglists (quote ([rels new-rel]))}, idxs-of {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 661, :column 8, :end-line 661, :end-column 15, :private true, :arglists (quote ([pred coll]))}, :private true, :name datascript.query/idxs-of, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 15, :method-params ([pred coll]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 661, :end-line 661, :max-fixed-arity 2, :fn-var true, :arglists (quote ([pred coll]))}, getter-fn {:protocol-inline nil, :meta {:file "/home/teddy/clojure/posh/examples/drinkers/resources/public/js/datascript/query.cljc", :line 284, :column 7, :end-line 284, :end-column 16, :arglists (quote ([attrs attr]))}, :name datascript.query/getter-fn, :variadic false, :file "resources/public/js/datascript/query.cljc", :end-column 16, :method-params ([attrs attr]), :protocol-impl nil, :arglists-meta (nil nil), :column 1, :line 284, :end-line 284, :max-fixed-arity 2, :fn-var true, :arglists (quote ([attrs attr]))}}, :require-macros {db datascript.db, datascript.db datascript.db, da datascript.arrays, datascript.arrays datascript.arrays, dp datascript.parser, datascript.parser datascript.parser}, :cljs.analyzer/constants {:seen #{:used-args :args :find get-else :tuples = dec :where :v :fn < :variable sum :else pos? neg? tuples :bindings :symbol :sources <= :query/binding * min :value :prefix-context get-some identity quot stddev not= ground rand > :source even? _ :rules sources mod - :rels zero? :binding rem nil? variance $ :with :pending-guards true? rules / vector >= distinct :attrs sample :error rels :clauses odd? inc + missing? median str false? max != == count :prefix-clauses -differ? count-distinct attrs avg :in :pattern}, :order [:rels :sources :rules rels sources rules :attrs :tuples attrs tuples _ * :else :v true? odd? get-else >= > get-some nil? inc / quot false? identity -differ? <= = min + missing? ground == max zero? != dec vector not= str < - pos? mod rem even? neg? variance count median sum count-distinct distinct avg stddev rand sample :symbol :variable :error :value :binding :query/binding :bindings $ :prefix-clauses :prefix-context :clauses :used-args :pending-guards :fn :args :source :pattern :find :with :where :in]}, :doc nil}